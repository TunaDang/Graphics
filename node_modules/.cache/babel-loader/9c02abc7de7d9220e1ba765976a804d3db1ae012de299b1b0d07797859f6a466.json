{"ast":null,"code":"var _dec, _class, _Vec;\nimport { VectorBase } from \"../VectorBase\";\nimport { Random } from \"../../Random\";\nimport { ASerializable } from \"../../../base\";\nimport { Vec3 } from \"../2D\";\nimport { Precision } from \"../../Precision\";\nimport * as THREE from \"three\";\nexport let Vec4 = (_dec = ASerializable(\"Vec4\"), _dec(_class = (_Vec = class Vec4 extends VectorBase {\n  constructor(...args) {\n    // common logic constructor\n\n    super(...args);\n  }\n  toString() {\n    return `Vec4(${this.x},${this.y},${this.z},${this.h})`;\n  }\n  get nDimensions() {\n    return 4;\n  }\n  static i() {\n    return new Vec4(1, 0, 0, 0);\n  }\n  static j() {\n    return new Vec4(0, 1, 0, 0);\n  }\n  static k() {\n    return new Vec4(0, 0, 1, 0);\n  }\n  static h() {\n    return new Vec4(0, 0, 0, 1);\n  }\n  static FromPoint2DXY(v2) {\n    return new Vec4(v2.x, v2.y, 0.0, 1.0);\n  }\n  static FromVec2DXY(v2) {\n    return new Vec4(v2.x, v2.y, 0.0, 0.0);\n  }\n  get z() {\n    return this.elements[2];\n  }\n  set z(val) {\n    this.elements[2] = val;\n  }\n  get h() {\n    return this.elements[3];\n  }\n  set h(val) {\n    this.elements[3] = val;\n  }\n  homogenize() {\n    if (this.h === 1 || Precision.isTiny(this.h)) {\n      return;\n    }\n    let ooh = 1.0 / this.h;\n    this.elements[0] = this.elements[0] * ooh;\n    this.elements[1] = this.elements[1] * ooh;\n    this.elements[2] = this.elements[2] * ooh;\n    this.h = 1;\n  }\n  _setToDefault() {\n    this.elements = [0, 0, 0, 0];\n  }\n  getHomogenized() {\n    const h = this.clone();\n    h.homogenize();\n    return h;\n  }\n  get Point3D() {\n    let h = this.getHomogenized();\n    return new Vec3(h.x, h.y, h.z);\n  }\n  static Random() {\n    var r = new this(Random.floatArray(4));\n    return r;\n  }\n  sstring() {\n    return `[${this.x},${this.y},${this.z}]`;\n  }\n  asThreeJS() {\n    return new THREE.Vector4(this.x, this.y, this.z, this.h);\n  }\n}, _Vec.N_DIMENSIONS = 4, _Vec)) || _class);\nexport function V4(x, y, z, h) {\n  return new Vec4(x, y, z, h);\n  // export function V4(...elements:any[]){\n  //     return new Vec4(...elements);\n}\n_c = V4;\nexport function V4A(...elements) {\n  return new Vec4(...elements);\n}\n_c2 = V4A;\nvar _c, _c2;\n$RefreshReg$(_c, \"V4\");\n$RefreshReg$(_c2, \"V4A\");","map":{"version":3,"names":["VectorBase","Random","ASerializable","Vec3","Precision","THREE","Vec4","_dec","_class","_Vec","constructor","args","toString","x","y","z","h","nDimensions","i","j","k","FromPoint2DXY","v2","FromVec2DXY","elements","val","homogenize","isTiny","ooh","_setToDefault","getHomogenized","clone","Point3D","r","floatArray","sstring","asThreeJS","Vector4","N_DIMENSIONS","V4","_c","V4A","_c2","$RefreshReg$"],"sources":["/Users/twist/Documents/Books/Fall 2024/Graphics/A1-Intro-To-Graphics-FA2024/src/anigraph/math/linalg/3D/Vec4.ts"],"sourcesContent":["import { VectorBase } from \"../VectorBase\";\nimport { Random } from \"../../Random\";\nimport { ASerializable } from \"../../../base\";\nimport { Vec2, Vec3 } from \"../2D\";\nimport { Precision } from \"../../Precision\";\n\nimport * as THREE from \"three\";\n\n@ASerializable(\"Vec4\")\nexport class Vec4 extends VectorBase{\n    static N_DIMENSIONS:number=4;\n    public constructor(x: number, y: number, z: number, h:number);\n    public constructor(elements?: Array<number>);\n    public constructor(...args: Array<any>) { // common logic constructor\n\n        super(...args);\n    }\n\n  toString() {\n    return `Vec4(${this.x},${this.y},${this.z},${this.h})`;\n  }\n\n  get nDimensions() {\n    return 4;\n  }\n\n  static i() {\n    return new Vec4(1, 0, 0, 0);\n  }\n  static j() {\n    return new Vec4(0, 1, 0, 0);\n  }\n  static k() {\n    return new Vec4(0, 0, 1, 0);\n  }\n  static h() {\n    return new Vec4(0, 0, 0, 1);\n  }\n\n  static FromPoint2DXY(v2: Vec2) {\n    return new Vec4(v2.x, v2.y, 0.0, 1.0);\n  }\n  static FromVec2DXY(v2: Vec2) {\n    return new Vec4(v2.x, v2.y, 0.0, 0.0);\n  }\n\n  get z() {\n    return this.elements[2];\n  }\n  set z(val: number) {\n    this.elements[2] = val;\n  }\n  get h() {\n    return this.elements[3];\n  }\n  set h(val: number) {\n    this.elements[3] = val;\n  }\n\n  homogenize() {\n    if (this.h === 1 || Precision.isTiny(this.h)) {\n      return;\n    }\n    let ooh: number = 1.0 / this.h;\n    this.elements[0] = this.elements[0] * ooh;\n    this.elements[1] = this.elements[1] * ooh;\n    this.elements[2] = this.elements[2] * ooh;\n    this.h = 1;\n  }\n\n  _setToDefault() {\n    this.elements = [0, 0, 0, 0];\n  }\n\n  getHomogenized() {\n    const h = this.clone();\n    h.homogenize();\n    return h;\n  }\n\n  get Point3D() {\n    let h = this.getHomogenized();\n    return new Vec3(h.x, h.y, h.z);\n  }\n\n  static Random() {\n    var r = new this(Random.floatArray(4));\n    return r;\n  }\n\n  sstring() {\n    return `[${this.x},${this.y},${this.z}]`;\n  }\n\n  asThreeJS() {\n    return new THREE.Vector4(this.x, this.y, this.z, this.h);\n  }\n}\n\nexport function V4(x:number, y:number, z:number, h:number){\n    return new Vec4(x,y,z,h);\n// export function V4(...elements:any[]){\n//     return new Vec4(...elements);\n}\nexport function V4A(...elements:any[]){\n    return new Vec4(...elements);\n}\n"],"mappings":";AAAA,SAASA,UAAU,QAAQ,eAAe;AAC1C,SAASC,MAAM,QAAQ,cAAc;AACrC,SAASC,aAAa,QAAQ,eAAe;AAC7C,SAAeC,IAAI,QAAQ,OAAO;AAClC,SAASC,SAAS,QAAQ,iBAAiB;AAE3C,OAAO,KAAKC,KAAK,MAAM,OAAO;AAE9B,WACaC,IAAI,IAAAC,IAAA,GADhBL,aAAa,CAAC,MAAM,CAAC,EAAAK,IAAA,CAAAC,MAAA,IAAAC,IAAA,GAAtB,MACaH,IAAI,SAASN,UAAU;EAIzBU,WAAWA,CAAC,GAAGC,IAAgB,EAAE;IAAE;;IAEtC,KAAK,CAAC,GAAGA,IAAI,CAAC;EAClB;EAEFC,QAAQA,CAAA,EAAG;IACT,OAAO,QAAQ,IAAI,CAACC,CAAC,IAAI,IAAI,CAACC,CAAC,IAAI,IAAI,CAACC,CAAC,IAAI,IAAI,CAACC,CAAC,GAAG;EACxD;EAEA,IAAIC,WAAWA,CAAA,EAAG;IAChB,OAAO,CAAC;EACV;EAEA,OAAOC,CAACA,CAAA,EAAG;IACT,OAAO,IAAIZ,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EAC7B;EACA,OAAOa,CAACA,CAAA,EAAG;IACT,OAAO,IAAIb,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EAC7B;EACA,OAAOc,CAACA,CAAA,EAAG;IACT,OAAO,IAAId,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EAC7B;EACA,OAAOU,CAACA,CAAA,EAAG;IACT,OAAO,IAAIV,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EAC7B;EAEA,OAAOe,aAAaA,CAACC,EAAQ,EAAE;IAC7B,OAAO,IAAIhB,IAAI,CAACgB,EAAE,CAACT,CAAC,EAAES,EAAE,CAACR,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC;EACvC;EACA,OAAOS,WAAWA,CAACD,EAAQ,EAAE;IAC3B,OAAO,IAAIhB,IAAI,CAACgB,EAAE,CAACT,CAAC,EAAES,EAAE,CAACR,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC;EACvC;EAEA,IAAIC,CAACA,CAAA,EAAG;IACN,OAAO,IAAI,CAACS,QAAQ,CAAC,CAAC,CAAC;EACzB;EACA,IAAIT,CAACA,CAACU,GAAW,EAAE;IACjB,IAAI,CAACD,QAAQ,CAAC,CAAC,CAAC,GAAGC,GAAG;EACxB;EACA,IAAIT,CAACA,CAAA,EAAG;IACN,OAAO,IAAI,CAACQ,QAAQ,CAAC,CAAC,CAAC;EACzB;EACA,IAAIR,CAACA,CAACS,GAAW,EAAE;IACjB,IAAI,CAACD,QAAQ,CAAC,CAAC,CAAC,GAAGC,GAAG;EACxB;EAEAC,UAAUA,CAAA,EAAG;IACX,IAAI,IAAI,CAACV,CAAC,KAAK,CAAC,IAAIZ,SAAS,CAACuB,MAAM,CAAC,IAAI,CAACX,CAAC,CAAC,EAAE;MAC5C;IACF;IACA,IAAIY,GAAW,GAAG,GAAG,GAAG,IAAI,CAACZ,CAAC;IAC9B,IAAI,CAACQ,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,CAACA,QAAQ,CAAC,CAAC,CAAC,GAAGI,GAAG;IACzC,IAAI,CAACJ,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,CAACA,QAAQ,CAAC,CAAC,CAAC,GAAGI,GAAG;IACzC,IAAI,CAACJ,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,CAACA,QAAQ,CAAC,CAAC,CAAC,GAAGI,GAAG;IACzC,IAAI,CAACZ,CAAC,GAAG,CAAC;EACZ;EAEAa,aAAaA,CAAA,EAAG;IACd,IAAI,CAACL,QAAQ,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EAC9B;EAEAM,cAAcA,CAAA,EAAG;IACf,MAAMd,CAAC,GAAG,IAAI,CAACe,KAAK,CAAC,CAAC;IACtBf,CAAC,CAACU,UAAU,CAAC,CAAC;IACd,OAAOV,CAAC;EACV;EAEA,IAAIgB,OAAOA,CAAA,EAAG;IACZ,IAAIhB,CAAC,GAAG,IAAI,CAACc,cAAc,CAAC,CAAC;IAC7B,OAAO,IAAI3B,IAAI,CAACa,CAAC,CAACH,CAAC,EAAEG,CAAC,CAACF,CAAC,EAAEE,CAAC,CAACD,CAAC,CAAC;EAChC;EAEA,OAAOd,MAAMA,CAAA,EAAG;IACd,IAAIgC,CAAC,GAAG,IAAI,IAAI,CAAChC,MAAM,CAACiC,UAAU,CAAC,CAAC,CAAC,CAAC;IACtC,OAAOD,CAAC;EACV;EAEAE,OAAOA,CAAA,EAAG;IACR,OAAO,IAAI,IAAI,CAACtB,CAAC,IAAI,IAAI,CAACC,CAAC,IAAI,IAAI,CAACC,CAAC,GAAG;EAC1C;EAEAqB,SAASA,CAAA,EAAG;IACV,OAAO,IAAI/B,KAAK,CAACgC,OAAO,CAAC,IAAI,CAACxB,CAAC,EAAE,IAAI,CAACC,CAAC,EAAE,IAAI,CAACC,CAAC,EAAE,IAAI,CAACC,CAAC,CAAC;EAC1D;AACF,CAAC,EAAAP,IAAA,CAvFU6B,YAAY,GAAQ,CAAC,EAAA7B,IAAA,MAAAD,MAAA;AAyFhC,OAAO,SAAS+B,EAAEA,CAAC1B,CAAQ,EAAEC,CAAQ,EAAEC,CAAQ,EAAEC,CAAQ,EAAC;EACtD,OAAO,IAAIV,IAAI,CAACO,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,CAAC;EAC5B;EACA;AACA;AAACwB,EAAA,GAJeD,EAAE;AAKlB,OAAO,SAASE,GAAGA,CAAC,GAAGjB,QAAc,EAAC;EAClC,OAAO,IAAIlB,IAAI,CAAC,GAAGkB,QAAQ,CAAC;AAChC;AAACkB,GAAA,GAFeD,GAAG;AAAA,IAAAD,EAAA,EAAAE,GAAA;AAAAC,YAAA,CAAAH,EAAA;AAAAG,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}