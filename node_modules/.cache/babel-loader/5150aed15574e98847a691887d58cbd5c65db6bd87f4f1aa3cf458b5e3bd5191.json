{"ast":null,"code":"var _jsxFileName = \"/Users/twist/Documents/Books/Fall 2024/Graphics/A1-Intro-To-Graphics-FA2024/src/anigraph/components/ControlPanel.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { LevaPanel, levaStore, useControls, useCreateStore } from \"leva\";\nimport { AAppState } from \"../appstate/AAppState\";\nimport { useSnapshot } from \"valtio\";\n\n// @ts-ignore\nimport { Fragment as _Fragment, jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RenewStore({\n  controlSpecs,\n  setStore\n}) {\n  _s();\n  const store = useCreateStore();\n  useEffect(() => {\n    setStore(store);\n  }, [setStore, store]);\n  useControls(controlSpecs, {\n    store\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n}\n_s(RenewStore, \"WOmwuAj2MAx0iiLRQ8f4Ohz9UCE=\", false, function () {\n  return [useCreateStore, useControls];\n});\n_c = RenewStore;\nexport function ControlPanel(props) {\n  _s2();\n  // let standardControls = AAppState.GetAppState().getControlPanelStandardSpec();\n  const [store, setStore] = useState(levaStore);\n  const state = useSnapshot(props.appState.stateValues);\n  // const selectionModelState = useSnapshot(appState.selectionModel.state);\n  props.appState.addControlPanelListener(() => {\n    props.appState._guiKey = uuidv4();\n    // setState(`${Object.keys(appState.GUIControlSpecs)}`);\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(LevaPanel, {\n      store: store\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(RenewStore, {\n      controlSpecs: props.appState.GUIControlSpecs,\n      setStore: setStore\n    }, state[AAppState._GUI_KEY_INDEX], false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n//\n// export function ControlPanel(props:ControlPanelProps){\n//\n//     let standardControls = AAppState.GetAppState().getControlPanelStandardSpec();\n//     const [store, setStore] = useState(levaStore);\n//     const state = useSnapshot(appState.state);\n//\n//     const [state, setState] = useState(uuidv4());\n//     appState.addControlPanelListener(()=>{\n//         // setState(uuidv4());\n//         setState(`${Object.keys(appState.GUIControlSpecs)}`);\n//     })\n//     useControls(props.appState.GUIControlSpecs);\n//     return(\n//         <>\n//             <LevaPanel store={store} />\n//             <RenewStore\n//                 key={state._guiKey}\n//                 controlSpecs={{\n//                     ...standardControls,\n//                     ModelGUI: folder({\n//                         ...appState.selectionModel.getModelGUIControlSpecs(),\n//                     }),\n//                 }}\n//                 setStore={setStore}\n//             />\n//         </>\n//     )\n// }\n_s2(ControlPanel, \"8w58SpuA3GBk2KoixBknlBZFipg=\", false, function () {\n  return [useSnapshot];\n});\n_c2 = ControlPanel;\nvar _c, _c2;\n$RefreshReg$(_c, \"RenewStore\");\n$RefreshReg$(_c2, \"ControlPanel\");","map":{"version":3,"names":["React","useEffect","useState","v4","uuidv4","LevaPanel","levaStore","useControls","useCreateStore","AAppState","useSnapshot","Fragment","_Fragment","jsxDEV","_jsxDEV","RenewStore","controlSpecs","setStore","_s","store","_c","ControlPanel","props","_s2","state","appState","stateValues","addControlPanelListener","_guiKey","children","fileName","_jsxFileName","lineNumber","columnNumber","GUIControlSpecs","_GUI_KEY_INDEX","_c2","$RefreshReg$"],"sources":["/Users/twist/Documents/Books/Fall 2024/Graphics/A1-Intro-To-Graphics-FA2024/src/anigraph/components/ControlPanel.tsx"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {v4 as uuidv4} from \"uuid\";\nimport {folder, LevaPanel, levaStore, useControls, useCreateStore} from \"leva\";\nimport {AAppState} from \"../appstate/AAppState\";\nimport {useSnapshot} from \"valtio\";\n\n// @ts-ignore\nfunction RenewStore({ controlSpecs, setStore }) {\n    const store = useCreateStore();\n    useEffect(() => {\n        setStore(store);\n    }, [setStore, store]);\n    useControls(controlSpecs, { store });\n    return <></>;\n}\n\ntype ControlPanelProps = {\n    appState:AAppState;\n}\n\n\nexport function ControlPanel(props:ControlPanelProps) {\n    // let standardControls = AAppState.GetAppState().getControlPanelStandardSpec();\n    const [store, setStore] = useState(levaStore);\n    const state = useSnapshot(props.appState.stateValues);\n    // const selectionModelState = useSnapshot(appState.selectionModel.state);\n    props.appState.addControlPanelListener(()=>{\n        props.appState._guiKey=uuidv4();\n        // setState(`${Object.keys(appState.GUIControlSpecs)}`);\n    })\n\n    return (\n        <>\n            <LevaPanel store={store} />\n            <RenewStore\n                key={state[AAppState._GUI_KEY_INDEX]}\n                controlSpecs={props.appState.GUIControlSpecs}\n                setStore={setStore}\n            />\n        </>\n    );\n}\n\n//\n// export function ControlPanel(props:ControlPanelProps){\n//\n//     let standardControls = AAppState.GetAppState().getControlPanelStandardSpec();\n//     const [store, setStore] = useState(levaStore);\n//     const state = useSnapshot(appState.state);\n//\n//     const [state, setState] = useState(uuidv4());\n//     appState.addControlPanelListener(()=>{\n//         // setState(uuidv4());\n//         setState(`${Object.keys(appState.GUIControlSpecs)}`);\n//     })\n//     useControls(props.appState.GUIControlSpecs);\n//     return(\n//         <>\n//             <LevaPanel store={store} />\n//             <RenewStore\n//                 key={state._guiKey}\n//                 controlSpecs={{\n//                     ...standardControls,\n//                     ModelGUI: folder({\n//                         ...appState.selectionModel.getModelGUIControlSpecs(),\n//                     }),\n//                 }}\n//                 setStore={setStore}\n//             />\n//         </>\n//     )\n// }\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAChD,SAAQC,EAAE,IAAIC,MAAM,QAAO,MAAM;AACjC,SAAgBC,SAAS,EAAEC,SAAS,EAAEC,WAAW,EAAEC,cAAc,QAAO,MAAM;AAC9E,SAAQC,SAAS,QAAO,uBAAuB;AAC/C,SAAQC,WAAW,QAAO,QAAQ;;AAElC;AAAA,SAAAC,QAAA,IAAAC,SAAA,EAAAC,MAAA,IAAAC,OAAA;AACA,SAASC,UAAUA,CAAC;EAAEC,YAAY;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC5C,MAAMC,KAAK,GAAGX,cAAc,CAAC,CAAC;EAC9BP,SAAS,CAAC,MAAM;IACZgB,QAAQ,CAACE,KAAK,CAAC;EACnB,CAAC,EAAE,CAACF,QAAQ,EAAEE,KAAK,CAAC,CAAC;EACrBZ,WAAW,CAACS,YAAY,EAAE;IAAEG;EAAM,CAAC,CAAC;EACpC,oBAAOL,OAAA,CAAAF,SAAA,mBAAI,CAAC;AAChB;AAACM,EAAA,CAPQH,UAAU;EAAA,QACDP,cAAc,EAI5BD,WAAW;AAAA;AAAAa,EAAA,GALNL,UAAU;AAcnB,OAAO,SAASM,YAAYA,CAACC,KAAuB,EAAE;EAAAC,GAAA;EAClD;EACA,MAAM,CAACJ,KAAK,EAAEF,QAAQ,CAAC,GAAGf,QAAQ,CAACI,SAAS,CAAC;EAC7C,MAAMkB,KAAK,GAAGd,WAAW,CAACY,KAAK,CAACG,QAAQ,CAACC,WAAW,CAAC;EACrD;EACAJ,KAAK,CAACG,QAAQ,CAACE,uBAAuB,CAAC,MAAI;IACvCL,KAAK,CAACG,QAAQ,CAACG,OAAO,GAACxB,MAAM,CAAC,CAAC;IAC/B;EACJ,CAAC,CAAC;EAEF,oBACIU,OAAA,CAAAF,SAAA;IAAAiB,QAAA,gBACIf,OAAA,CAACT,SAAS;MAACc,KAAK,EAAEA;IAAM;MAAAW,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC3BnB,OAAA,CAACC,UAAU;MAEPC,YAAY,EAAEM,KAAK,CAACG,QAAQ,CAACS,eAAgB;MAC7CjB,QAAQ,EAAEA;IAAS,GAFdO,KAAK,CAACf,SAAS,CAAC0B,cAAc,CAAC;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAGvC,CAAC;EAAA,eACJ,CAAC;AAEX;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAAV,GAAA,CAlDgBF,YAAY;EAAA,QAGVX,WAAW;AAAA;AAAA0B,GAAA,GAHbf,YAAY;AAAA,IAAAD,EAAA,EAAAgB,GAAA;AAAAC,YAAA,CAAAjB,EAAA;AAAAiB,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}