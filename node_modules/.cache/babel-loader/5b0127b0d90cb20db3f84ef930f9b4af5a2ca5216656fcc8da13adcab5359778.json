{"ast":null,"code":"import _initializerDefineProperty from \"/Users/twist/Documents/Books/Fall 2024/Graphics/A1-Intro-To-Graphics-FA2024/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty.js\";\nimport _applyDecoratedDescriptor from \"/Users/twist/Documents/Books/Fall 2024/Graphics/A1-Intro-To-Graphics-FA2024/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor.js\";\nimport _initializerWarningHelper from \"/Users/twist/Documents/Books/Fall 2024/Graphics/A1-Intro-To-Graphics-FA2024/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper.js\";\nvar _dec, _class, _class2, _descriptor, _descriptor2;\n// import { AObject\n//   , AObjectState, ASerializable } from \"../base\";\nimport { AObject } from \"../base/aobject/AObject\";\nimport { AObjectState } from \"../base/aobject/AObject\";\nimport { ASerializable } from \"../base/aserial/ASerializable\";\nexport let _ASystemTime = (_dec = ASerializable(\"_ASystemTime\"), _dec(_class = (_class2 = class _ASystemTime extends AObject {\n  constructor() {\n    super();\n    _initializerDefineProperty(this, \"paused\", _descriptor, this);\n    _initializerDefineProperty(this, \"time\", _descriptor2, this);\n    this.timer = void 0;\n    this.paused = true;\n    this.time = Date.now();\n    this.unpause();\n  }\n  pause() {\n    if (!this.paused) {\n      this.paused = true;\n      clearInterval(this.timer);\n    }\n  }\n  unpause() {\n    if (this.paused) {\n      const self = this;\n      this.paused = false;\n      this.timer = setInterval(() => {\n        if (!self.paused) {\n          self.time = Date.now();\n        }\n      });\n    }\n  }\n  togglePause() {\n    if (this.paused) {\n      this.unpause();\n    } else {\n      this.pause();\n    }\n  }\n  addListener(callback) {\n    const self = this;\n    return this.addStateKeyListener(\"time\", () => {\n      callback(self.time);\n    });\n  }\n}, _descriptor = _applyDecoratedDescriptor(_class2.prototype, \"paused\", [AObjectState], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"time\", [AObjectState], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _class2)) || _class);","map":{"version":3,"names":["AObject","AObjectState","ASerializable","_ASystemTime","_dec","_class","_class2","constructor","_initializerDefineProperty","_descriptor","_descriptor2","timer","paused","time","Date","now","unpause","pause","clearInterval","self","setInterval","togglePause","addListener","callback","addStateKeyListener","_applyDecoratedDescriptor","prototype","configurable","enumerable","writable","initializer"],"sources":["/Users/twist/Documents/Books/Fall 2024/Graphics/A1-Intro-To-Graphics-FA2024/src/anigraph/time/ASystemTime.ts"],"sourcesContent":["// import { AObject\n//   , AObjectState, ASerializable } from \"../base\";\nimport {AObject} from \"../base/aobject/AObject\";\nimport {AObjectState} from \"../base/aobject/AObject\";\nimport {ASerializable} from \"../base/aserial/ASerializable\";\n\n@ASerializable(\"_ASystemTime\")\nexport class _ASystemTime extends AObject {\n  @AObjectState paused!: boolean;\n  @AObjectState time!: number;\n  protected timer!: NodeJS.Timer;\n\n  constructor() {\n    super();\n    this.paused = true;\n    this.time = Date.now();\n    this.unpause();\n  }\n  pause() {\n    if (!this.paused) {\n      this.paused = true;\n      clearInterval(this.timer);\n    }\n  }\n  unpause() {\n    if (this.paused) {\n      const self = this;\n      this.paused = false;\n      this.timer = setInterval(() => {\n        if (!self.paused) {\n          self.time = Date.now();\n        }\n      });\n    }\n  }\n  togglePause() {\n    if (this.paused) {\n      this.unpause();\n    } else {\n      this.pause();\n    }\n  }\n\n  addListener(callback: (t: number) => any) {\n    const self = this;\n    return this.addStateKeyListener(\"time\", () => {\n      callback(self.time);\n    });\n  }\n}\n"],"mappings":";;;;AAAA;AACA;AACA,SAAQA,OAAO,QAAO,yBAAyB;AAC/C,SAAQC,YAAY,QAAO,yBAAyB;AACpD,SAAQC,aAAa,QAAO,+BAA+B;AAE3D,WACaC,YAAY,IAAAC,IAAA,GADxBF,aAAa,CAAC,cAAc,CAAC,EAAAE,IAAA,CAAAC,MAAA,IAAAC,OAAA,GAA9B,MACaH,YAAY,SAASH,OAAO,CAAC;EAKxCO,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,CAAC;IAACC,0BAAA,iBAAAC,WAAA;IAAAD,0BAAA,eAAAE,YAAA;IAAA,KAHAC,KAAK;IAIb,IAAI,CAACC,MAAM,GAAG,IAAI;IAClB,IAAI,CAACC,IAAI,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;IACtB,IAAI,CAACC,OAAO,CAAC,CAAC;EAChB;EACAC,KAAKA,CAAA,EAAG;IACN,IAAI,CAAC,IAAI,CAACL,MAAM,EAAE;MAChB,IAAI,CAACA,MAAM,GAAG,IAAI;MAClBM,aAAa,CAAC,IAAI,CAACP,KAAK,CAAC;IAC3B;EACF;EACAK,OAAOA,CAAA,EAAG;IACR,IAAI,IAAI,CAACJ,MAAM,EAAE;MACf,MAAMO,IAAI,GAAG,IAAI;MACjB,IAAI,CAACP,MAAM,GAAG,KAAK;MACnB,IAAI,CAACD,KAAK,GAAGS,WAAW,CAAC,MAAM;QAC7B,IAAI,CAACD,IAAI,CAACP,MAAM,EAAE;UAChBO,IAAI,CAACN,IAAI,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;QACxB;MACF,CAAC,CAAC;IACJ;EACF;EACAM,WAAWA,CAAA,EAAG;IACZ,IAAI,IAAI,CAACT,MAAM,EAAE;MACf,IAAI,CAACI,OAAO,CAAC,CAAC;IAChB,CAAC,MAAM;MACL,IAAI,CAACC,KAAK,CAAC,CAAC;IACd;EACF;EAEAK,WAAWA,CAACC,QAA4B,EAAE;IACxC,MAAMJ,IAAI,GAAG,IAAI;IACjB,OAAO,IAAI,CAACK,mBAAmB,CAAC,MAAM,EAAE,MAAM;MAC5CD,QAAQ,CAACJ,IAAI,CAACN,IAAI,CAAC;IACrB,CAAC,CAAC;EACJ;AACF,CAAC,EAAAJ,WAAA,GAAAgB,yBAAA,CAAAnB,OAAA,CAAAoB,SAAA,aAzCEzB,YAAY;EAAA0B,YAAA;EAAAC,UAAA;EAAAC,QAAA;EAAAC,WAAA;AAAA,IAAApB,YAAA,GAAAe,yBAAA,CAAAnB,OAAA,CAAAoB,SAAA,WACZzB,YAAY;EAAA0B,YAAA;EAAAC,UAAA;EAAAC,QAAA;EAAAC,WAAA;AAAA,IAAAxB,OAAA,MAAAD,MAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}